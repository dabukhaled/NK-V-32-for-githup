# تطبيق أفلام ومسلسلات - دليل قاعدة البيانات

## نظرة عامة

تم تطوير نظام قاعدة بيانات JSON لتطبيق أفلام ومسلسلات لتسهيل تخزين البيانات ونقلها بين الأجهزة. بدلاً من الاعتماد على التخزين المحلي (localForage) فقط، يمكن الآن استخدام ملف JSON واحد يحتوي على جميع بيانات التطبيق.

## الميزات

- **استيراد البيانات**: استيراد بيانات التطبيق بالكامل من ملف JSON
- **تصدير البيانات**: تصدير جميع بيانات التطبيق إلى ملف JSON
- **النسخ الاحتياطية**: إنشاء نسخ احتياطية دورية من قاعدة البيانات
- **المزامنة**: سهولة نقل البيانات بين أجهزة متعددة
- **التوافق**: التوافق مع صيغة البيانات الحالية للتطبيق

## كيفية الاستخدام

### استيراد البيانات

1. افتح الإعدادات (الرمز الترسانة)
2. اختر تبويب "قاعدة البيانات"
3. انقر على "اختر ملفًا" أو اسحب ملف قاعدة البيانات إلى المنطقة المخصصة
4. انقر على "استيراد البيانات"
5. انتظر حتى يكتمل الاستيراد وسيتم إعادة تحميل التطبيق تلقائيًا

### تصدير البيانات

1. افتح الإعدادات (الرمز الترسانة)
2. اختر تبويب "قاعدة البيانات"
3. انقر على "تصدير قاعدة البيانات"
4. سيتم تنزيل ملف JSON يحتوي على جميع بيانات التطبيق

### إنشاء نسخة احتياطية

1. افتح الإعدادات (الرمز الترسانة)
2. اختر تبويب "قاعدة البيانات"
3. انقر على "إنشاء نسخة احتياطية"
4. سيتم تنزيل ملف JSON مع تاريخ ووقت النسخة الاحتياطية

### مسح التخزين المحلي

1. افتح الإعدادات (الرمز الترسانة)
2. اختر تبويب "قاعدة البيانات"
3. انقر على "مسح التخزين المحلي"
4. تأكيد العملية في النافذة المنبثقة

## هيكل ملف قاعدة البيانات

يحتوي ملف قاعدة البيانات على الأقسام التالية:

```json
{
  "version": "1.0",
  "lastUpdated": "2023-10-15T12:30:45.123Z",
  "movies": [...],
  "series": [...],
  "categories": {
    "main": [...],
    "sub": [...],
    "special": [...],
    "specialSub": [...]
  },
  "settings": {
    "password": "5555",
    "showSpecialSections": false,
    "viewMode": "grid",
    "sortBy": "name",
    "selectedSite": "",
    "selectedStar": "",
    "itemsPerPage": 50,
    "openMoviesExternally": true,
    "zoomLevel": 1,
    "currentPageTitle": "New Koktil-aflam v32"
  }
}
```

## توافق البيانات

- يمكن استيراد الملفات التي تم تصديرها من أي نسخة من التطبيق
- عند استيراد ملف، سيتم استبدال جميع البيانات الحالية بالبيانات من الملف المستورد
- إذا كان الملف المطلوب استيراده لا يحتوي على إعدادات معينة، سيتم استخدام الإعدادات الافتراضية

## نصائح إضافية

- قم بعمل نسخ احتياطية منتظمة من بيانات التطبيق
- عند استيراد بيانات من ملف، تأكد من أن الملف مصدره موثوق
- يمكنك مشاركة ملف قاعدة البيانات مع الآخرين لنقل بيانات التطبيق بسهولة
- عند الترقية إلى نسخة جديدة من التطبيق، تأكد من عمل نسخة احتياطية قبل الترقية

## استكشاف الأخطاء وإصلاحها

- إذا واجهت مشاكل أثناء استيراد البيانات، تأكد من أن الملف صالح وله الامتداد .json
- إذا لم تظهر بيانات المستوردة بشكل صحيح، قد تحتاج إلى إعادة تحميل الصفحة بالكامل
- في حالة حدوث أي مشاكل، يمكنك دائمًا العودة إلى التخزين المحلي عن طريق مسح التخزين وإعادة تحميل التطبيق
